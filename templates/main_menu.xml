<?xml version="1.0" encoding="utf-8"?>

<vxml version="2.1" xmlns="http://www.w3.org/2001/vxml"
      xmlns:voxeo="http://community.voxeo.com/xmlns/vxml">

  <script> <![CDATA[ 
    
    var name = [];

    function add_letter("letter"){
      name.push("letter");
      
    }

    function read_name(name){
      name = name.join('');
      return name.toString()

  }
    ]]></script> 


  <!-- State machine -->
  <form id="welcome">
    <block>
    <prompt bargein ="false">
      Welcome, please spell out your name letter by letter. When you are done say, finished.
    </prompt>
    <goto next="#spelling"/>
    </block>
  </form>
        
     
    
  <form id="spelling">
    <field name="addLetter">
      <grammar src="grammars/main_menu_grammar.xml#name"/>
    </field>
    <filled>
      <if cond="addLetter == 'finished'">
        <prompt>Hello <value expr="read_name()"/></prompt>
      <else/>
        <value expr="addLetter"/>

        <assign name="name" expr="add_letter(addLetter)"/>
        <goto next="#spelling"/>
      </if>
    </filled>
  </form>

      
            
  

<menu id="instructions">
  <prompt>
    This is the main menu where you will make some choices. Please say whether you would 
    like to play in easy mode, medium mode, or hard mode. 
  </prompt>
  <choice next="easy">
    Easy mode
  </choice>
  <choice next="medium">
    medium mode
  </choice>
  <choice next="hard">
    hard mode
  </choice>
  
</menu>

</vxml>
