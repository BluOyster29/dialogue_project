<?xml version="1.0" encoding="UTF-8" ?>
<grammar version="1.0" tag-format="semantics/1.0" root="equation">

    <rule id="oneTen">
       <item repeat ="0-1">and</item>
        <one-of>
            <item>0<tag>out= "0";</tag></item>
            <item>1<tag>out= "1";</tag></item>
            <item>2<tag>out= "2";</tag></item>
            <item>3<tag>out= "3";</tag></item>
            <item>4<tag>out= "4";</tag></item>
            <item>5<tag>out= "5";</tag></item>
            <item>6<tag>out= "6";</tag></item>
            <item>7<tag>out= "7";</tag></item>
            <item>8<tag>out= "8";</tag></item>
            <item>9<tag>out= "9";</tag></item>
        </one-of>
    </rule>

    <rule id="1119">
        <one-of>
            <item>11</item>
            <item>12</item>
            <item>13</item>
            <item>14</item>
            <item>15</item>
            <item>16</item>
            <item>17</item>
            <item>18</item>
            <item>19</item>
        </one-of>
    </rule>

    <rule id="biggies">
        <item repeat="0-1">and</item>
        <one-of>
            <item>20</item>
            <item>30</item>
            <item>40</item>
            <item>50</item>
            <item>60</item>
            <item>70</item>
            <item>80</item>
            <item>90</item> 
        </one-of>
    </rule>

    <rule id="hundred">
        <item>100</item>
    </rule>

    <rule id="number1">
        <one-of>
            <item>
                <ruleref uri="#oneTen"/>
            </item>
            <item>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
            </item>
            <item>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
            </item>
        </one-of>
    </rule>

    <rule id="number2">
        <one-of>
            <item>
                <ruleref uri="#oneTen"/>
            </item>
            <item>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
            </item>
            <item>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
                <ruleref uri="#oneTen"/>
            </item>
        </one-of>
    </rule>

    <rule id="result">
        <one-of>
            <item>
                <ruleref uri="#oneTen"/>
                <!--<tag>out.unit = rules.oneTen;</tag>-->
            </item>
            <item>
                <ruleref uri="#1119"/>
                <!--<tag>out.teen = rules.1119;</tag>-->
            </item>
            <item>
                <ruleref uri="#biggies"/>
                <!--<tag>out.big = rules.biggies;</tag>-->
            </item>
            <item>
                <ruleref uri="#biggies"/>
                <ruleref uri="#oneTen"/>
                <!--<tag>out.big = rules.biggies</tag>
                <tag>out.number = rules.oneTen</tag>-->
            </item>
            <item>
                <ruleref uri="#hundred"/>
                <ruleref uri="#biggies"/>
                <ruleref uri="#oneTen"/>
                <!--<tag>out.ton = rules.hundred</tag>
                <tag>out.big = rules.biggies</tag>
                <tag>out.unit = rules.oneTen</tag>-->
            </item>

        </one-of>
    </rule>

    <rule id="plus">
        <one-of>
            <item>plus</item>
            <item>minus</item>
            <item>times by</item>
            <item>divided by</item>
        </one-of>
    </rule>

    <rule id="equals">
        <item>Equals</item>
    </rule>
    
    <rule id="equation">
        <item>
            <ruleref uri="#number1"/>
            <ruleref uri="#plus"/>
            <ruleref uri="#number2"/>
            equals
            <ruleref uri="#result"/>
            <tag>
                out.number1 = rules.number1;
                out.number2 = rules.number2;
                out.plus = rules.plus;
                out.result = rules.result;
            </tag>
        </item>
    </rule>
    
</grammar>
